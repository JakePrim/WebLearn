!function(){let t={getRandom:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},getColor:function(){return`rgb(${this.getRandom(0,255)},${this.getRandom(0,255)},${this.getRandom(0,255)})`}};window.tools=t}(),function(){function t(t,e){e=e instanceof Object?e:{},this.width=e.width||20,this.height=e.height||20,this.x=e.x||0,this.y=e.y||0,this.backgroundColor=e.backgroundColor||"green",this.parent=t,this.elements=[]}t.prototype.render=function(){this.ele=document.createElement("div"),this.parent.appendChild(this.ele),this.x=tools.getRandom(0,this.parent.clientWidth/this.width-1)*this.width,this.y=tools.getRandom(0,this.parent.clientHeight/this.height-1)*this.height,this.ele.style.width=this.width+"px",this.ele.style.height=this.height+"px",this.ele.style.left=this.x+"px",this.ele.style.top=this.y+"px",this.ele.style.backgroundColor=this.backgroundColor,this.elements.push(this.ele)},t.prototype.removeFood=function(t){this.parent.removeChild(this.elements[t]),this.elements.splice(t,1)},window.Food=t}(),function(){let t="absolute";function e(t,e){this.parent=t,e=e instanceof Object?e:{},this.width=e.width||20,this.height=e.height||20,this.body=[{x:3,y:2,color:"red"},{x:2,y:2,color:"blue"},{x:1,y:2,color:"blue"}],this.direction="right",this.elements=[]}e.prototype.render=function(){for(let e=0,o=this.body.length;e<o;e++){let o=document.createElement("div");this.parent.appendChild(o);let i=this.body[e];o.style.width=this.width+"px",o.style.height=this.height+"px",o.style.backgroundColor=i.color,o.style.left=i.x*this.width+"px",o.style.top=i.y*this.height+"px",o.style.position=t,this.elements.push(o)}},e.prototype.run=function(){for(let t=this.body.length-1;t>=1;t--)this.body[t].x=this.body[t-1].x,this.body[t].y=this.body[t-1].y;let t=this.body[0];switch(this.direction){case"right":t.x++;break;case"left":t.x--;break;case"top":t.y--;break;case"bottom":t.y++}this.remove(),this.render()},e.prototype.remove=function(){for(let t=0,e=this.elements.length;t<e;t++)this.parent.removeChild(this.elements[t]);this.elements=[]},window.Snake=e}(),function(){let t;function e(e,o){this.parent=e,this.food=new Food(e,o),this.snake=new Snake(e,o),t=this}e.prototype.start=function(){this.food.render(),this.food.render(),this.food.render(),this.snake.render(),function(){let e=setInterval(function(){t.snake.run();let o=t.parent.offsetWidth/t.snake.width,i=t.parent.offsetHeight/t.snake.height,n=t.snake.body[0].x,s=t.snake.body[0].y,h=n*t.snake.width,r=s*t.snake.height;for(let e=0,o=t.food.elements.length;e<o;e++){let o=t.food.elements[e];if(h===o.offsetLeft&&r===o.offsetTop){t.food.removeFood(e),t.food.render();let o=t.snake.body[t.snake.body.length-1];t.snake.body.push({x:o.x,y:o.y,color:o.color})}}(n<0||n>=o||s<0||s>=i)&&(clearTimeout(e),alert("Game Over"))},150)}(),document.onkeydown=function(e){switch(console.log(e.key),e.keyCode){case 37:t.snake.direction="left";break;case 38:t.snake.direction="top";break;case 39:t.snake.direction="right";break;case 40:t.snake.direction="bottom"}}},window.Game=e}(),function(){let t=document.getElementById("map");new Game(t).start()}();